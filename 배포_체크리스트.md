# ✅ 배포 체크리스트

## 📋 배포 전 확인사항

### 로컬 테스트
- [x] `python test_gemini.py` 성공
- [x] `python app.py` 실행 확인
- [x] 회사 검색 작동
- [x] 재무제표 조회 작동
- [x] AI 설명 생성 작동 (완전히 표시됨)
- [x] API 키 문제 없음

### 필수 파일 확인
- [x] `app.py` - 메인 애플리케이션
- [x] `requirements.txt` - 패키지 의존성
- [x] `init_db.py` - DB 초기화 스크립트
- [x] `download_corp_code.py` - 데이터 다운로드
- [x] `runtime.txt` - Python 버전
- [x] `Procfile` - 실행 명령
- [x] `.gitignore` - Git 제외 파일
- [x] `data/.gitkeep` - data 디렉토리 포함

### API 키 준비
- [ ] OpenDart API 키 (https://opendart.fss.or.kr/)
  ```
  OPENDART_API_KEY=당신의_키
  ```
- [ ] Google Gemini API 키 (https://ai.google.dev/)
  ```
  GEMINI_API_KEY=당신의_키
  ```

---

## 🚀 Render 배포 단계

### 1. GitHub 업로드
- [ ] GitHub 계정 로그인
- [ ] 새 저장소 생성
  - 저장소 이름: `financial-statement-app` (예시)
  - Public 또는 Private 선택
- [ ] 로컬에서 푸시
  ```bash
  git init
  git add .
  git commit -m "Deploy: Financial Statement Visualization App"
  git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git
  git branch -M main
  git push -u origin main
  ```

### 2. Render 계정 생성
- [ ] https://render.com 접속
- [ ] "Get Started" 클릭
- [ ] GitHub로 가입
- [ ] GitHub 연동 승인

### 3. Web Service 생성
- [ ] "New +" → "Web Service" 클릭
- [ ] GitHub 저장소 선택
- [ ] "Connect" 클릭

### 4. 설정 입력

#### 기본 설정
- [ ] **Name**: `financial-statement-app` (원하는 이름)
- [ ] **Region**: `Singapore` 선택
- [ ] **Branch**: `main`
- [ ] **Runtime**: `Python 3`

#### Build Command (정확히 복사!)
```bash
pip install -r requirements.txt && python download_corp_code.py && python init_db.py
```
- [ ] ✅ 위 명령어 입력 완료

#### Start Command (정확히 복사!)
```bash
gunicorn app:app --bind 0.0.0.0:$PORT --workers 2 --timeout 120
```
- [ ] ✅ 위 명령어 입력 완료

#### 환경 변수 (Environment)
- [ ] `OPENDART_API_KEY` 추가
  - Value: `당신의_OpenDart_키` (따옴표 없이!)
- [ ] `GEMINI_API_KEY` 추가
  - Value: `당신의_Gemini_키` (따옴표 없이!)
- [ ] `PYTHONIOENCODING` 추가
  - Value: `utf-8`

### 5. 배포 시작
- [ ] 모든 설정 재확인
- [ ] "Create Web Service" 클릭
- [ ] 배포 로그 확인 (5-10분 소요)

#### 성공 로그 확인
```
==> Downloading corp codes...
✅ 다운로드 완료
==> Initializing SQLite database...
✅ 데이터베이스 초기화 완료: 114,595개 회사
==> Build successful!
==> Starting service...
✅ Gemini API 초기화 완료 (모델: gemini-2.5-flash)
==> Service is live
```
- [ ] ✅ 위와 같은 로그 확인

---

## ✅ 배포 후 테스트

### URL 접속
- [ ] 배포 URL 확인: `https://YOUR-APP-NAME.onrender.com`
- [ ] 브라우저에서 접속
- [ ] 페이지 로딩 확인 (첫 로딩은 느릴 수 있음)

### 기능 테스트
- [ ] **회사 검색**
  - "삼성전자" 검색
  - 검색 결과 표시 확인
  
- [ ] **재무제표 조회**
  - 회사 선택
  - 재무상태표 차트 표시 확인
  - 손익계산서 차트 표시 확인
  - 추세 차트 표시 확인
  - 표 데이터 표시 확인
  
- [ ] **AI 설명 생성**
  - "AI로 재무제표 설명 생성" 버튼 클릭
  - 로딩 상태 표시 확인
  - AI 설명 완전 표시 확인 (잘리지 않음)
  - 여러 회사로 반복 테스트

### 추가 테스트
- [ ] 모바일 브라우저 테스트
- [ ] 다른 회사 검색 (현대자동차, LG전자 등)
- [ ] 여러 연도 데이터 확인
- [ ] 새로고침 후 정상 작동 확인

---

## 🐛 문제 발생 시

### Build Failed
- [ ] Build Command 다시 확인
- [ ] requirements.txt 파일 존재 확인
- [ ] Python 버전 확인 (runtime.txt)
- [ ] "Manual Deploy" → "Deploy latest commit" 재시도

### API Key Error
- [ ] Render 환경 변수 확인
- [ ] 따옴표 제거 확인
- [ ] 키 앞뒤 공백 없는지 확인
- [ ] API 키 유효성 재확인
- [ ] "Manual Deploy" 재시도

### Database Error
- [ ] Build Command에 `init_db.py` 포함 확인
- [ ] 배포 로그에서 "데이터베이스 초기화 완료" 메시지 확인
- [ ] "Manual Deploy" 재시도

### AI 설명 오류
- [ ] GEMINI_API_KEY 환경 변수 확인
- [ ] Render 로그에서 "Gemini API 초기화 완료" 확인
- [ ] 할당량 초과 여부 확인
- [ ] 몇 분 대기 후 재시도

---

## 📊 성능 확인

### 응답 시간
- [ ] 회사 검색: < 1초
- [ ] 재무제표 조회: 2-5초
- [ ] AI 설명 생성: 10-30초 (정상)

### 리소스 사용
- [ ] Render 대시보드에서 메모리/CPU 확인
- [ ] 512MB 메모리 내에서 작동 확인

---

## 🎉 배포 완료!

### 최종 확인
- [x] 로컬 테스트 완료
- [ ] GitHub 푸시 완료
- [ ] Render 배포 완료
- [ ] 모든 기능 테스트 완료

### URL 공유
```
배포 URL: https://YOUR-APP-NAME.onrender.com
```

### 다음 단계
- [ ] URL 북마크
- [ ] 친구/동료에게 공유
- [ ] 피드백 수집
- [ ] 기능 개선 계획

---

## 📞 추가 도움말

### 문서
- `배포_완벽_가이드.md` - 상세 배포 가이드
- `배포_빠른_시작.md` - 5분 빠른 배포
- `DEPLOYMENT.md` - 전체 배포 문서

### 지원
- Render 로그 확인
- GitHub Issues
- Render 커뮤니티

**축하합니다! 배포 준비가 완료되었습니다!** 🎊

이제 체크리스트를 따라 배포를 시작하세요! 🚀

